<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="虚拟机使用说明 #  连接虚拟机 #  Linux系统 #  首先从云平台中获取虚拟机的IP和登录名，之后即可在本地通过任意ssh客户端登录。
MacOS 使用系统自带的Terminal.app登录即可。
为了更好的使用体验，推荐使用 iterm2登录。
当然，你也可以使用 termius进行多个ssh连接的管理。
Linux 如果你是Linux Desktop用户，那么你肯定已经有了自己喜爱的终端模拟器，此处不再赘述。Windows 一般来讲，Windows 10（及以上）自带的cmd.exe都自带ssh client，打开cmd后直接ssh foo@x.x.x.x即可登录。
为了更好的使用体验，推荐下载使用 Windows Terminal。
当然，你也可以使用 termius或者其他工具（如 Xshell等）进行多个ssh连接的管理。
校外跳板 通过 d.buaa.edu.cn 跳转登录即可。 联网 #  Linux系统 #  可以依次尝试以下两种方式。
校园网登录脚本 #  这里推荐使用 srun工具。
下载并安装登录工具：
sudo wget https://scs.buaa.edu.cn/scsos/tools/linux/buaalogin -O /usr/local/bin/buaalogin sudo chmod +x /usr/local/bin/buaalogin 配置校园网登录使用的用户名和密码：
buaalogin config 登录校园网：
buaalogin login 登出校园网：
buaalogin logout wukuard 服务 #  鉴于校网络中心的某些限制，上述联网方式可能在某短时间内无法使用，这里特别给出软院信息化小组的基于 Wireguard的曲线救国方案。其本质上是将虚拟机加入一个 wireguard虚拟内网，然后覆盖默认路由指向一个可以联网的内网机器，从而实现虚拟机本身与互联网的联通。"><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="虚拟机使用说明"><meta property="og:description" content="虚拟机使用说明 #  连接虚拟机 #  Linux系统 #  首先从云平台中获取虚拟机的IP和登录名，之后即可在本地通过任意ssh客户端登录。
MacOS 使用系统自带的Terminal.app登录即可。
为了更好的使用体验，推荐使用 iterm2登录。
当然，你也可以使用 termius进行多个ssh连接的管理。
Linux 如果你是Linux Desktop用户，那么你肯定已经有了自己喜爱的终端模拟器，此处不再赘述。Windows 一般来讲，Windows 10（及以上）自带的cmd.exe都自带ssh client，打开cmd后直接ssh foo@x.x.x.x即可登录。
为了更好的使用体验，推荐下载使用 Windows Terminal。
当然，你也可以使用 termius或者其他工具（如 Xshell等）进行多个ssh连接的管理。
校外跳板 通过 d.buaa.edu.cn 跳转登录即可。 联网 #  Linux系统 #  可以依次尝试以下两种方式。
校园网登录脚本 #  这里推荐使用 srun工具。
下载并安装登录工具：
sudo wget https://scs.buaa.edu.cn/scsos/tools/linux/buaalogin -O /usr/local/bin/buaalogin sudo chmod +x /usr/local/bin/buaalogin 配置校园网登录使用的用户名和密码：
buaalogin config 登录校园网：
buaalogin login 登出校园网：
buaalogin logout wukuard 服务 #  鉴于校网络中心的某些限制，上述联网方式可能在某短时间内无法使用，这里特别给出软院信息化小组的基于 Wireguard的曲线救国方案。其本质上是将虚拟机加入一个 wireguard虚拟内网，然后覆盖默认路由指向一个可以联网的内网机器，从而实现虚拟机本身与互联网的联通。"><meta property="og:type" content="article"><meta property="og:url" content="https://scs.buaa.edu.cn/doc/01_common/virtual_machine_help/"><meta property="article:section" content="01_common"><meta property="article:modified_time" content="2022-05-05T20:34:15+08:00"><title>虚拟机使用说明 | 软院云平台文档</title><link rel=manifest href=/doc/manifest.json><link rel=icon href=/doc/favicon.png type=image/x-icon><link rel=stylesheet href=/doc/book.min.46181bc93375ba932026e753b37c40e6ff8bb16a9ef770c78bcc663e4577b1ba.css integrity="sha256-RhgbyTN1upMgJudTs3xA5v+LsWqe93DHi8xmPkV3sbo=" crossorigin=anonymous><script defer src=/doc/flexsearch.min.js></script>
<script defer src=/doc/en.search.min.7b84d625d33cdddd643541419f9e01ac2691ce62153265d6c35d1327b6a6a84b.js integrity="sha256-e4TWJdM83d1kNUFBn54BrCaRzmIVMmXWw10TJ7amqEs=" crossorigin=anonymous></script>
<script defer src=/doc/sw.min.5b0a96517f3d8417c3b8e3f5f1aaf1cba3d2cc7cc19a9780a18ecfa3beff6666.js integrity="sha256-WwqWUX89hBfDuOP18arxy6PSzHzBmpeAoY7Po77/ZmY=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/doc/><span>软院云平台文档</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=https://scs.buaa.edu.cn/doc/02_bugit/>BuGit代码托管与自动部署平台</a><ul><li><a href=https://scs.buaa.edu.cn/doc/02_bugit/build_deploy/>自动构建与部署</a></li></ul></li><li><a href=https://scs.buaa.edu.cn/doc/01_common/>云平台使用手册</a><ul><li><a href=https://scs.buaa.edu.cn/doc/01_common/virtual_machine_help/ class=active>虚拟机使用说明</a></li></ul></li><li><a href=https://scs.buaa.edu.cn/doc/cloud-labs/>大数据和云计算综合实践</a><ul><li><a href=https://scs.buaa.edu.cn/doc/cloud-labs/cloud/>云计算实验</a><ul><li><a href=https://scs.buaa.edu.cn/doc/cloud-labs/cloud/container_docker/>容器与Docker综合实验</a></li><li><a href=https://scs.buaa.edu.cn/doc/cloud-labs/cloud/kube-single-3/>Kubernetes实验（三）</a></li><li><a href=https://scs.buaa.edu.cn/doc/cloud-labs/cloud/cloud_lab/>云PaaS平台开发</a></li><li><a href=https://scs.buaa.edu.cn/doc/cloud-labs/cloud/appendix_create_kubernetes/>附录：创建Kubernetes集群</a></li><li><a href=https://scs.buaa.edu.cn/doc/cloud-labs/cloud/faq/>FAQ</a></li></ul></li></ul></li><li><a href=https://scs.buaa.edu.cn/doc/ns-labs/>网络存储实验规划</a><ul><li><a href=https://scs.buaa.edu.cn/doc/ns-labs/table-of-contents/>Table of Contents</a><ul><li><a href=https://scs.buaa.edu.cn/doc/ns-labs/table-of-contents/raid/>Lab01 RAID 阵列</a></li></ul></li><li><a href=https://scs.buaa.edu.cn/doc/ns-labs/resources/>Resources</a><ul><li><a href=https://scs.buaa.edu.cn/doc/ns-labs/resources/os/>操作系统</a></li></ul></li></ul></li></ul><ul><li><a href=https://github.com/bugitt/doc target=_blank rel=noopener>Github</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/doc/svg/menu.svg class=book-icon alt=Menu></label>
<strong>虚拟机使用说明</strong>
<label for=toc-control><img src=/doc/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#虚拟机使用说明>虚拟机使用说明</a><ul><li><a href=#连接虚拟机>连接虚拟机</a><ul><li><a href=#linux系统>Linux系统</a></li></ul></li><li><a href=#联网>联网</a><ul><li><a href=#linux系统-1>Linux系统</a></li></ul></li><li><a href=#传输文件>传输文件</a><ul><li><a href=#linux系统-2>Linux系统</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=虚拟机使用说明>虚拟机使用说明
<a class=anchor href=#%e8%99%9a%e6%8b%9f%e6%9c%ba%e4%bd%bf%e7%94%a8%e8%af%b4%e6%98%8e>#</a></h1><h2 id=连接虚拟机>连接虚拟机
<a class=anchor href=#%e8%bf%9e%e6%8e%a5%e8%99%9a%e6%8b%9f%e6%9c%ba>#</a></h2><h3 id=linux系统>Linux系统
<a class=anchor href=#linux%e7%b3%bb%e7%bb%9f>#</a></h3><p>首先从云平台中获取虚拟机的IP和登录名，之后即可在本地通过任意ssh客户端登录。</p><div class=book-tabs><input type=radio class=toggle name=tabs-uu1 id=tabs-uu1-0 checked>
<label for=tabs-uu1-0>MacOS</label><div class="book-tabs-content markdown-inner"><p>使用系统自带的Terminal.app登录即可。</p><p>为了更好的使用体验，推荐使用
<a href=https://iterm2.com/>iterm2</a>登录。</p><p>当然，你也可以使用
<a href=https://termius.com/>termius</a>进行多个ssh连接的管理。</p></div><input type=radio class=toggle name=tabs-uu1 id=tabs-uu1-1>
<label for=tabs-uu1-1>Linux</label><div class="book-tabs-content markdown-inner">如果你是Linux Desktop用户，那么你肯定已经有了自己喜爱的终端模拟器，此处不再赘述。</div><input type=radio class=toggle name=tabs-uu1 id=tabs-uu1-2>
<label for=tabs-uu1-2>Windows</label><div class="book-tabs-content markdown-inner"><p>一般来讲，Windows 10（及以上）自带的cmd.exe都自带ssh client，打开cmd后直接<code>ssh foo@x.x.x.x</code>即可登录。</p><p>为了更好的使用体验，推荐下载使用
<a href=https://aka.ms/terminal>Windows Terminal</a>。</p><p>当然，你也可以使用
<a href=https://termius.com/>termius</a>或者其他工具（如 Xshell等）进行多个ssh连接的管理。</p></div><input type=radio class=toggle name=tabs-uu1 id=tabs-uu1-3>
<label for=tabs-uu1-3>校外跳板</label><div class="book-tabs-content markdown-inner">通过 d.buaa.edu.cn 跳转登录即可。</div></div><h2 id=联网>联网
<a class=anchor href=#%e8%81%94%e7%bd%91>#</a></h2><h3 id=linux系统-1>Linux系统
<a class=anchor href=#linux%e7%b3%bb%e7%bb%9f-1>#</a></h3><p>可以依次尝试以下两种方式。</p><h4 id=校园网登录脚本>校园网登录脚本
<a class=anchor href=#%e6%a0%a1%e5%9b%ad%e7%bd%91%e7%99%bb%e5%bd%95%e8%84%9a%e6%9c%ac>#</a></h4><p>这里推荐使用
<a href=https://github.com/Dr-Bluemond/srun>srun</a>工具。</p><p>下载并安装登录工具：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo wget https://scs.buaa.edu.cn/scsos/tools/linux/buaalogin -O /usr/local/bin/buaalogin
</span></span><span style=display:flex><span>sudo chmod +x /usr/local/bin/buaalogin
</span></span></code></pre></div><p>配置校园网登录使用的用户名和密码：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>buaalogin config
</span></span></code></pre></div><p>登录校园网：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>buaalogin login
</span></span></code></pre></div><p>登出校园网：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>buaalogin logout
</span></span></code></pre></div><h4 id=wukuard-服务>wukuard 服务
<a class=anchor href=#wukuard-%e6%9c%8d%e5%8a%a1>#</a></h4><p>鉴于校网络中心的某些限制，上述联网方式可能在某短时间内无法使用，这里特别给出软院信息化小组的基于
<a href=https://www.wireguard.com/>Wireguard</a>的曲线救国方案。其本质上是将虚拟机加入一个
<a href=https://www.wireguard.com/>wireguard</a>虚拟内网，然后覆盖默认路由指向一个可以联网的内网机器，从而实现虚拟机本身与互联网的联通。</p><blockquote class="book-hint warning">请注意，以下步骤是针对Debian系发行版（包括Debian、Ubuntu等）给出的，其他发行版请自行对照着修改命令。</blockquote><p>首先需要安装wireguard-tools（这里需要短暂联网，但完整整个步骤之后就不需要了）：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>export http_proxy<span style=color:#f92672>=</span>http://10.251.0.37:3128;export https_proxy<span style=color:#f92672>=</span>http://10.251.0.37:3128
</span></span><span style=display:flex><span>sudo apt update <span style=color:#f92672>&amp;&amp;</span> sudo apt install wireguard-tools -y
</span></span></code></pre></div><blockquote class="book-hint danger"><p>如果上述命令执行中，apt没有命中http_proxy，可以手动配置apt的proxy:
创建文件<code>/etc/apt/apt.conf.d/proxy.conf</code>，并在其中写入以下内容</p><pre tabindex=0><code>Acquire::http::Proxy &#34;http://10.251.0.37:3128&#34;;
Acquire::https::Proxy &#34;http://10.251.0.37:3128&#34;;
</code></pre><p>然后重新执行 <code>apt update && apt install wireguard-tools -y</code></p><p><strong>注意：完成所有配置后，请将该文件删除。</strong></p></blockquote><p>然后安装
<a href=https://github.com/loheagn/wukuard>wukuard</a>（作为wireguard管理工具）</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo wget https://scs.buaa.edu.cn/scsos/tools/linux/wukuard -O /usr/local/bin/wukuard
</span></span><span style=display:flex><span>sudo chmod +x /usr/local/bin/wukuard
</span></span></code></pre></div><p>然后配置wukuard-client服务</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo wget https://scs.buaa.edu.cn/scsos/tools/linux/wukuard-client.service -O /etc/systemd/system/wukuard-client.service
</span></span><span style=display:flex><span>sudo systemctl enable --now wukuard-client
</span></span></code></pre></div><p>然后找管理员所要虚拟机应该使用的hostname，然后配置机器的hostname：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo hostnamectl set-hostname <span style=color:#e6db74>${</span>your_hostname<span style=color:#e6db74>}</span>   <span style=color:#75715e># hostname的值找管理员要</span>
</span></span></code></pre></div><h2 id=传输文件>传输文件
<a class=anchor href=#%e4%bc%a0%e8%be%93%e6%96%87%e4%bb%b6>#</a></h2><h3 id=linux系统-2>Linux系统
<a class=anchor href=#linux%e7%b3%bb%e7%bb%9f-2>#</a></h3><div class=book-tabs><input type=radio class=toggle name=tabs-uu2 id=tabs-uu2-0 checked>
<label for=tabs-uu2-0>MacOS & Linux</label><div class="book-tabs-content markdown-inner">可以使用使用SCP命令进行服务器与本地之间的文件交换。</div><input type=radio class=toggle name=tabs-uu2 id=tabs-uu2-1>
<label for=tabs-uu2-1>Windows</label><div class="book-tabs-content markdown-inner"><p>除了在终端中使用SCP命令外，</p><p>还可以使用
<a href=https://winscp.net/eng/download.php>WinSCP</a>进行图形化的文件管理。</p></div><input type=radio class=toggle name=tabs-uu2 id=tabs-uu2-2>
<label for=tabs-uu2-2>校外跳板</label><div class="book-tabs-content markdown-inner">d.buaa.edu.cn 的Linux界面已经提供了比较完善的文件管理工具。</div></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/alex-shpak/hugo-book/commit/9c8841cc64238c57deaf5eed2ebb572f090709b8 title="Last modified by loheagn | May 5, 2022" target=_blank rel=noopener><img src=/doc/svg/calendar.svg class=book-icon alt=Calendar>
<span>May 5, 2022</span></a></div><div><a class="flex align-center" href=https://github.com/alex-shpak/hugo-book/edit/main/exampleSite/content/01_common/virtual_machine_help.md target=_blank rel=noopener><img src=/doc/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#虚拟机使用说明>虚拟机使用说明</a><ul><li><a href=#连接虚拟机>连接虚拟机</a><ul><li><a href=#linux系统>Linux系统</a></li></ul></li><li><a href=#联网>联网</a><ul><li><a href=#linux系统-1>Linux系统</a></li></ul></li><li><a href=#传输文件>传输文件</a><ul><li><a href=#linux系统-2>Linux系统</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>